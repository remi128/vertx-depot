(function($){$.fn.extend({restfulizer:function(options){var defaults={parse:false,target:null,method:"POST"};var options=$.extend(defaults,options);var last=null;window.restfulizerConfirmAndSubmit=function(){var s=$(this).attr("data-confirm");if(typeof s!=="undefined"){if(confirm(s)){$(this).find("form").submit()}}else{$(this).find("form").submit()}};return this.each(function(){var self=$(this);if(typeof $(this).attr("data-method")!=="undefined"){options.method=$(this).attr("data-method").toUpperCase()}if(typeof $(this).attr("href")!=="undefined"){options.target=$(this).attr("href")}var inputs="";if(options.parse){var params=options.target.substr(options.target.indexOf("?")+1).split("&");options.target=options.target.substr(0,options.target.indexOf("?"));for(var i=0;i<params.length;i++){var pair=params[i].split("=");inputs+="	<input type='hidden' name='"+decodeURIComponent(pair[0])+"' value='"+decodeURIComponent(pair[1])+"'>\n"}}if(options.method==="GET"||options.method==="POST"){var form="\n"+"<form action='"+options.target+"' method='"+options.method+"' style='display:none'>\n"+inputs+"</form>\n"}else{var form="\n"+"<form action='"+options.target+"' method='POST' style='display:none'>\n"+"	<input type='hidden' name='_method' value='"+options.method+"'>\n"+inputs+"</form>\n"}self.append(form).removeAttr("href").attr("style","cursor:pointer;").attr("onclick","restfulizerConfirmAndSubmit.apply(this);")})}})})(jQuery);